<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>RPA - Panel Obras Valdivia</title>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" /> 
    <link rel="stylesheet" href="https://unpkg.com/leaflet-search@3.0.9/dist/leaflet-search.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">

    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.css" />

    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.14/main.min.css' rel='stylesheet' />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.1/dist/frappe-gantt.css" />


</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm">
    <div class="container-fluid">
        <button class="btn btn-outline-secondary" type="button" id="sidebar-toggle">
            <i class="bi bi-list"></i>
        </button>
        <a class="navbar-brand fw-bold ms-3" href="#">Panel de Obras Valdivia</a>
        <div class="mx-auto">
            <form class="d-flex" role="search">
                <input class="form-control me-2" type="search" placeholder="Buscar..." aria-label="Search">
            </form>
        </div>
        <div class="d-flex align-items-center">
            <i class="bi bi-bell-fill fs-5"></i>
            <i class="bi bi-person-circle fs-5 ms-3"></i>
        </div>
    </div>
</nav>

<div class="wrapper">
    <nav id="sidebar" class="p-3">
        <div class="sidebar-header mb-4 text-center">
            <h4><i class="bi bi-layers-fill"></i> Módulos</h4>
        </div>
        
        <ul class="nav nav-pills flex-column" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="proyectos-tab" data-bs-toggle="pill" data-bs-target="#proyectos-tab-pane" type="button" role="tab" aria-controls="proyectos-tab-pane" aria-selected="true">
                    <i class="bi bi-table"></i> Proyectos
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="rpa-tab" data-bs-toggle="pill" data-bs-target="#rpa-tab-pane" type="button" role="tab" aria-controls="rpa-tab-pane" aria-selected="false">
                    <i class="bi bi-play-circle-fill"></i> RPA
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="mapa-tab" data-bs-toggle="pill" data-bs-target="#mapa-tab-pane" type="button" role="tab" aria-controls="mapa-tab-pane" aria-selected="false">
                    <i class="bi bi-map-fill"></i> Mapa
                </button>
            </li>
        </ul>
    </nav>

<div id="main-content">
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="proyectos-tab-pane" role="tabpanel" aria-labelledby="proyectos-tab">
            <div id="vista-tabla-proyectos" style="display: block;">
                    <h2 class="mb-4">Listado de Proyectos</h2>
                    <div class="accordion" id="accordionFiltros">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    <i class="bi bi-funnel-fill me-2"></i> Filtros de Búsqueda
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionFiltros">
                                <div class="accordion-body">
                                    <div class="row g-3">
                                        <div class="col-md-4"><label for="filter-contratista" class="form-label">Contratista</label><select id="filter-contratista" multiple="multiple"></select></div>
                                        <div class="col-md-4"><label for="filter-coordinador" class="form-label">Coordinador</label><select id="filter-coordinador" multiple="multiple"></select></div>
                                        <div class="col-md-4"><label for="filter-estado" class="form-label">Estado</label><select id="filter-estado" multiple="multiple"></select></div>
                                        <div class="col-md-3"><label for="filter-sap" class="form-label">Filtrar por SAP</label><input type="text" id="filter-sap" class="form-control form-control-sm" placeholder="ID de proyecto..."></div>
                                        <div class="col-md-6"><label for="filter-descripcion" class="form-label">Filtrar por Descripción</label><input type="text" id="filter-descripcion" class="form-control form-control-sm" placeholder="Texto en descripción..."></div>
                                        <div class="col-md-3"><label for="filter-wf" class="form-label">Filtrar por WF</label><input type="text" id="filter-wf" class="form-control form-control-sm" placeholder="Número de WF..."></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="table-responsive mt-4">
                        <table id="proyectos-table" class="table table-striped table-bordered" style="width:100%">
                            <thead>
                                <tr>
                                    <th>Sap</th>
                                    <th>WF</th>
                                    <th>Descripción</th>
                                    <th>Coordinador</th>
                                    <th>Contratista</th>
                                    <th>Estado</th>
                                    <th>Acción</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
            </div>

            <div id="vista-detalle-proyecto" style="display: none;">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h2 class="mb-0">Detalles del Proyecto: <span id="detalle-titulo-proyecto" class="text-primary"></span></h2>
                    <button class="btn btn-outline-secondary" id="btn-volver-tabla">
                        <i class="bi bi-arrow-left me-2"></i>Volver al Listado
                    </button>
                </div>
                
                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-dashboard-tab" data-bs-toggle="pill" data-bs-target="#pills-dashboard" type="button" role="tab">Dashboard</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="pills-general-tab" data-bs-toggle="pill" data-bs-target="#pills-general" type="button" role="tab">General</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-tareas-tab" data-bs-toggle="pill" data-bs-target="#pills-tareas" type="button" role="tab">Tareas</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-gantt-tab" data-bs-toggle="pill" data-bs-target="#pills-gantt" type="button" role="tab">Gantt</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-documentos-tab" data-bs-toggle="pill" data-bs-target="#pills-documentos" type="button" role="tab">Documentos</button>
                    </li>
                </ul>

                <div class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade" id="pills-dashboard" role="tabpanel">
                        <div class="row">
                            <div class="col-md-6 mb-4"><div class="card"><div class="card-body" style="height: 250px;">Gráfico 1</div></div></div>
                            <div class="col-md-6 mb-4"><div class="card"><div class="card-body" style="height: 250px;">Gráfico 2</div></div></div>
                            <div class="col-md-6 mb-4"><div class="card"><div class="card-body" style="height: 250px;">Gráfico 3</div></div></div>
                            <div class="col-md-6 mb-4"><div class="card"><div class="card-body" style="height: 250px;">Gráfico 4</div></div></div>
                        </div>
                    </div>

                    <div class="tab-pane fade show active" id="pills-general" role="tabpanel">
                        <div class="row">
                            <div class="col-lg-7">
                                <div class="card">
                                    <div class="card-header"><h5 class="mb-0"><i class="bi bi-info-circle-fill me-2"></i>Información General</h5></div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-6"><p><strong>Unidad:</strong> <span id="detalle-unidad"></span></p><p><strong>Línea de Negocio:</strong> <span id="detalle-linea-negocio"></span></p><p><strong>WF:</strong> <span id="detalle-wf"></span></p><p><strong>Valoriza:</strong> <span id="detalle-valoriza"></span></p><p><strong>Programa de Inversión:</strong> <span id="detalle-programa-inversion"></span></p></div>
                                            <div class="col-md-6"><p><strong>ID:</strong> <span id="detalle-id"></span></p><p><strong>ID Posición:</strong> <span id="detalle-id-posicion"></span></p><p><strong>Tipo de Inversión:</strong> <span id="detalle-tipo-inversion"></span></p><p><strong>Coordinador:</strong> <span id="detalle-coordinador"></span></p><p><strong>Contratista:</strong> <span id="detalle-contratista"></span></p></div>
                                            <div class="col-12 mt-2"><p><strong>Estado:</strong> <span id="detalle-estado"></span></p></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-5">
                                <div class="card mb-4">
                                    <div class="card-header"><h5 class="mb-0"><i class="bi bi-geo-alt-fill me-2"></i>Ubicación</h5></div>
                                    <div class="card-body">
                                        <p><strong>Comuna:</strong> <span id="detalle-comuna"></span></p>
                                        <div id="detalle-mapa" style="height: 200px; background-color: #f0f0f0;"></div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-header"><h5 class="mb-0"><i class="bi bi-person-badge-fill me-2"></i>Cliente</h5></div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-12"><p><strong>Nombre:</strong> <span id="detalle-cliente-nombre"></span></p></div>
                                            <div class="col-md-6"><p><strong>Correo:</strong> <span id="detalle-cliente-correo"></span></p></div>
                                            <div class="col-md-6"><p><strong>Fono:</strong> <span id="detalle-cliente-fono"></span></p></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="pills-tareas" role="tabpanel">
                        <div class="d-flex justify-content-end mb-3">
                            <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#modalTarea"><i class="bi bi-plus-circle-fill me-2"></i>Añadir Nueva Tarea</button>
                        </div>
                        <div class="kanban-board-wrapper">
                            <div class="kanban-board">
                                
                                <div class="kanban-column">
                                    <div class="kanban-column-header bg-secondary-subtle text-secondary-emphasis d-flex justify-content-between">
                                        <span><i class="bi bi-pause-circle me-2"></i><span class="kanban-title">Pendiente</span></span>
                                        <span class="badge bg-secondary rounded-pill kanban-counter">0</span>
                                    </div>
                                    <div class="kanban-tasks" id="kanban-pendiente"></div>
                                </div>

                            <div class="kanban-column">
                                <div class="kanban-column-header bg-info-subtle text-info-emphasis d-flex justify-content-between">
                                    <span><i class="bi bi-arrow-repeat me-2"></i><span class="kanban-title">En Proceso</span></span>
                                    <span class="badge bg-info rounded-pill kanban-counter">0</span>
                                </div>
                                <div class="kanban-tasks" id="kanban-proceso"></div>
                            </div>

                            <div class="kanban-column">
                                <div class="kanban-column-header bg-warning-subtle text-warning-emphasis d-flex justify-content-between">
                                    <span><i class="bi bi-search me-2"></i><span class="kanban-title">En Revisión</span></span>
                                    <span class="badge bg-warning text-dark rounded-pill kanban-counter">0</span>
                                </div>
                                <div class="kanban-tasks" id="kanban-revision"></div>
                            </div>
                            
                            <div class="kanban-column">
                                <div class="kanban-column-header bg-success-subtle text-success-emphasis d-flex justify-content-between">
                                    <span><i class="bi bi-check-circle-fill me-2"></i><span class="kanban-title">Completada</span></span>
                                    <span class="badge bg-success rounded-pill kanban-counter">0</span>
                                </div>
                                <div class="kanban-tasks" id="kanban-completada"></div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="pills-gantt" role="tabpanel">
                        <div class="card"><div class="card-body"><div id="gantt-chart-container" style="height: 400px;"></div></div></div>
                    </div>

                    <div class="tab-pane fade" id="pills-documentos" role="tabpanel">
                        <div class="card mb-4">
                            <div class="card-header"><h5 class="mb-0">Subir Nuevos Documentos</h5></div>
                            <div class="card-body">
                                <form action="/upload" class="dropzone" id="my-awesome-dropzone">
                                    <div class="dz-message">
                                        <i class="bi bi-cloud-arrow-up-fill fs-1"></i>
                                        <p>Arrastra y suelta los archivos aquí o haz clic para seleccionarlos.</p>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header"><h5 class="mb-0">Documentos del Proyecto</h5></div>
                            <div class="card-body">
                                <ul class="list-group" id="document-list">
                                    </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>  
        </div>

        <div class="tab-pane fade" id="rpa-tab-pane" role="tabpanel" aria-labelledby="rpa-tab">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Panel de Obras - Valdivia</h2>
            </div>
            <form id="formPaso1" class="row g-3">
                <div class="col-md-8">
                    <textarea id="inputText" class="form-control" rows="4" placeholder="Ej: 200/AV-222..."></textarea>
                    <fieldset class="border p-3 mt-3 rounded">
                        <legend class="float-none w-auto px-2 h6">Módulos SAP</legend>
                        <div class="d-flex justify-content-around">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="checkNorma" value="norma_liquidacion">
                                <label class="form-check-label" for="checkNorma">Norma Liquidación</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="checkCpresupuesto" value="presupuesto">
                                <label class="form-check-label" for="checkCpresupuesto">C. Presupuesto</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="checkcambionombre" value="cambio_nombre">
                                <label class="form-check-label" for="checkcambionombre">Cambio Nombre</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="checkprograma" value="programa">
                                <label class="form-check-label" for="checkprograma">Programa Inversión</label>
                            </div>
                        </div>
                    </fieldset>
                    <fieldset class="border p-3 mt-3 rounded">
                        <legend class="float-none w-auto px-2 h6">Módulos Panel</legend>
                        <div class="d-flex justify-content-around">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="checkvaloriza" value="valoriza">
                                <label class="form-check-label" for="checkvaloriza">Valoriza</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="checkCpresupuestoPanel" value="presupuesto">
                                <label class="form-check-label" for="checkCpresupuestoPanel">No habilitado</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="checkcambionombrePanel" value="cambio_nombre">
                                <label class="form-check-label" for="checkcambionombrePanel">No habilitado</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="checkprogramaPanel" value="programa">
                                <label class="form-check-label" for="checkprogramaPanel">No habilitado</label>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <div class="col-md-4 d-grid">
                    <button type="submit" class="btn btn-primary h-100">Ejecutar</button>
                </div>
            </form>
            <div class="mt-4">
                <h4>Progreso:</h4>
                <ul id="status-list" class="list-group"></ul>
            </div>
        </div>

        <div class="tab-pane fade" id="mapa-tab-pane" role="tabpanel" aria-labelledby="mapa-tab">
            <div class="card">
                <div class="card-body p-0">
                    <div id="map-container"></div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Autenticación Requerida</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Se requiere autenticación para los módulos del panel.</p>
                <form id="loginForm">
                    <div class="mb-3">
                        <label for="inputCorreo" class="form-label">Correo Electrónico</label>
                        <input type="email" class="form-control" id="inputCorreo" required autocomplete="username">>
                    </div>
                    <div class="mb-3">
                        <label for="inputContraseña" class="form-label">Contraseña</label>
                        <input type="password" class="form-control" id="inputContraseña" required autocomplete="current-password">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" id="confirmarLoginBtn" class="btn btn-primary">Confirmar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalTarea" tabindex="-1" aria-labelledby="modalTareaLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title d-flex align-items-center" id="modalTareaLabel">
                    <i class="bi bi-card-checklist me-2"></i>
                    <span id="modal-tarea-nombre"></span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="formTarea" novalidate onsubmit="return false;">
                    <input type="hidden" id="id_tarea">
                    <div class="row">

                        <div class="col-lg-8">
                            <div class="mb-3">
                                <label for="nombre_tarea_input" class="form-label fw-bold"><i class="bi bi-fonts me-2"></i>Nombre de la Tarea</label>
                                <input type="text" class="form-control form-control-lg" id="nombre_tarea_input" required>
                            </div>
                            <div class="mb-4">
                                <label for="descripcion_tarea" class="form-label fw-bold"><i class="bi bi-pencil-square me-2"></i>Descripción / Nota</label>
                                <textarea class="form-control" id="descripcion_tarea" rows="4" placeholder="Añade una descripción más detallada..."></textarea>
                            </div>

                            <div class="mb-4">
                                <label class="form-label fw-bold"><i class="bi bi-check2-square me-2"></i>Lista de Comprobación (Subtareas)</label>
                                <div class="progress mb-2" style="height: 10px;">
                                    <div id="checklist-progress" class="progress-bar bg-success" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <ul class="list-group list-group-flush" id="checklist-container">
                                    </ul>
                                <div class="input-group mt-2">
                                    <input type="text" id="input-nueva-subtarea" class="form-control" placeholder="Añadir un elemento...">
                                    <button class="btn btn-outline-secondary" type="button" id="btn-add-subtarea">Añadir</button>
                                </div>
                            </div>

                            <div>
                                <label class="form-label fw-bold"><i class="bi bi-chat-left-text-fill me-2"></i>Actividad y Comentarios</label>
                                <div class="input-group">
                                    <input type="text" id="input-nuevo-comentario" class="form-control" placeholder="Escribe un comentario...">
                                    <button class="btn btn-primary" type="button" id="btn-add-comentario">Guardar</button>
                                </div>
                                <div id="comments-container" class="mt-3">
                                    </div>
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h6 class="card-title">Responsables</h6>
                                    <div class="mb-2">
                                        <label for="coordinador_tarea" class="form-label mb-1"><small>Coordinador</small></label>
                                        <select class="form-select form-select-sm" id="coordinador_tarea">
                                            <option value="" selected>Sin asignar</option>
                                            </select>
                                    </div>
                                    <div>
                                        <label for="contratista_tarea" class="form-label mb-1"><small>Contratista</small></label>
                                        <select class="form-select form-select-sm" id="contratista_tarea">
                                            <option value="" selected>Sin asignar</option>
                                             </select>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card mb-3">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <h6 class="card-title mb-0">Etiquetas</h6>
                                        <button type="button" class="btn btn-light btn-sm" id="btn-abrir-popover-etiquetas">
                                            <i class="bi bi-plus"></i>
                                        </button>
                                    </div>
                                    <div id="labels-container" class="mt-2">
                                        </div>
                                </div>
                            </div>

                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title">Propiedades</h6>
                                    <div class="mb-2"><label for="estado_tarea" class="form-label mb-1"><small>Estado</small></label><select class="form-select form-select-sm" id="estado_tarea"><option value="Pendiente">Pendiente</option><option value="En Proceso">En Proceso</option><option value="En Revisión">En Revisión</option><option value="Completada">Completada</option></select></div>
                                    <div class="mb-2"><label for="prioridad_tarea" class="form-label mb-1"><small>Prioridad</small></label><select class="form-select form-select-sm" id="prioridad_tarea"><option value="Baja">Baja</option><option value="Media" selected>Media</option><option value="Alta">Alta</option></select></div>
                                    <div class="mb-2"><label class="form-label mb-1"><small>Fecha Creación</small></label><p class="form-control-plaintext ps-1 py-0" id="detalle-tarea-fecha-creacion"></p></div>
                                    <div class="mb-0"><label for="vencimiento_tarea" class="form-label mb-1"><small>Fecha Vencimiento</small></label><input type="date" class="form-control form-control-sm" id="vencimiento_tarea"></div>
                                </div>
                            </div>
                            
                            <div class="mt-3">
                                <button class="btn btn-outline-secondary btn-sm w-100"><i class="bi bi-paperclip me-2"></i>Añadir Adjunto</button>
                                <ul class="list-unstyled mt-2" id="attachment-list">
                                    </ul>
                            </div>
                        </div>

                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" id="btnGuardarTarea">Guardar Tarea</button>
            </div>
        </div>
    </div>
</div>


<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js"></script>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.min.js"></script>
<script src="https://unpkg.com/leaflet-search@3.0.9/dist/leaflet-search.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>
<script src="https://cdn.jsdelivr.net/npm/leaflet-rainviewer/leaflet-rainviewer.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/2.0.8/js/dataTables.bootstrap5.js"></script>

<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.14/main.min.js'></script>
<script src="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.1/dist/frappe-gantt.min.js"></script>



<script type="module" src="{{ url_for('static', filename='main.js') }}"></script>

</body>
</html>